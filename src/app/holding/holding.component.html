<div class="container-fluid px-4">
    <div class="row">
      <div class="col-xl-10 mx-auto">
  
        <!-- 🔍 Search Bar -->
        <div class="d-flex justify-content-between align-items-center mb-4">
          <input
            type="text"
            class="form-control form-control-lg border-secondary shadow-sm"
            placeholder="🔍 Search by Name, Symbol, or ISIN"
            (keyup)="applyFilter($event)" />
        </div>
  
        <!-- 📊 Securities Listing -->
        <div class="table-responsive shadow-sm rounded mb-3">
          <table class="table table-bordered table-hover align-middle mb-0">
            <thead class="table-light text-center">
              <tr>
                <th>Symbol</th>
                <th>Name</th>
                <th>Exchange</th>
                <th>Sector</th>
                <th>Industry</th>
                <th>Price</th>
                <th>Equity Category</th>
                <th class="text-center">Quantity</th>
                <th class="text-center">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let stock of pagedSecurities">
                <td>{{ stock.symbol }}</td>
                <td>{{ stock.name }}</td>
                <td>{{ stock.exchange }}</td>
                <td>{{ stock.sector }}</td>
                <td>{{ stock.industry }}</td>
                <td>{{ stock.price | currency:'INR' }}</td>
                <td>{{ stock.assetClass.subClassName }}</td>
  
                <!-- Quantity Input -->
                <td class="text-center">
                  <input
                    type="number"
                    class="form-control form-control-sm text-center"
                    [(ngModel)]="stock.quantity"
                    [min]="1"
                    placeholder="Qty"
                    name="qty{{stock.id}}" />
                </td>
  
                <!-- Inline + / - Buttons -->
                <td class="text-center">
                  <div class="d-flex justify-content-center align-items-center gap-2">
                    <button
                      class="btn btn-sm btn-outline-danger"
                      (click)="decreaseQuantity(stock)"
                      [disabled]="stock.quantity <= 1">
                      − Remove
                    </button>
                    <button
                      class="btn btn-sm btn-outline-success"
                      (click)="increaseQuantity(stock)">
                      + Add
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
  
        <!-- 📄 Paginator -->
        <div class="d-flex justify-content-end mt-3" style="max-width: 100%;">
          <div class="w-100">
            <mat-paginator
              [length]="totalItems"
              [pageSize]="pageSize"
              [pageSizeOptions]="[30, 50, 100]"
              showFirstLastButtons
              (page)="onPageChange($event)">
            </mat-paginator>
          </div>
        </div>
  
        <!-- ✅ Submit Button -->
        <div class="mt-4 text-end">
          <button class="btn btn-lg btn-success px-5" (click)="submitHolding()">
            Submit Holdings
          </button>
        </div>
  
      </div>
    </div>
  </div>